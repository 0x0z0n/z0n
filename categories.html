<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>Categories</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet" />
    <style>
      :root {
        --bg-color: #0d0d12;
        --card-bg: #151820;
        --text-color: #94f9c1;
        --accent: #36e0ff;
        --tag-bg: #121417;
        --tag-hover: #5fffd2;
        --border-glow: 0 0 10px #36e0ff, 0 0 20px #36e0ff44;
      }


      body {
        margin: 0;
        font-family: 'Orbitron', sans-serif;
        background: var(--bg-color);
        color: var(--text-color);
        display: flex;
      }

      aside {
        width: 250px;
        background: #101010;
        padding: 1rem;
        height: 100vh;
        box-shadow: 2px 0 8px #00d0ff44;
        position: sticky;
        top: 0;
      }

      aside img {
        width: 100px;
        border-radius: 50%;
        display: block;
        margin: 0 auto;
        border: 2px solid #00d0ff;
        box-shadow: var(--border-glow);
      }

      .site-title {
        text-align: center;
        margin: 1rem 0 0.25rem;
        font-size: 1.4rem;
      }

      .site-subtitle {
        text-align: center;
        color: #888;
        font-size: 0.85rem;
      }

      nav a {
        display: block;
        color: var(--text-color);
        text-decoration: none;
        padding: 0.5rem;
        border-radius: 6px;
        margin: 0.3rem 0;
        background: #151515;
        border-left: 3px solid transparent;
        transition: all 0.3s ease;
      }

      nav a:hover {
        background: #1a1a1a;
        border-left: 3px solid var(--accent);
        color: var(--accent);
      }

      .social-icons {
        text-align: center;
        margin-top: 2rem;
      }

      .social-icons a {
        margin: 0 0.5rem;
        color: #aaa;
        font-size: 1.3rem;
        transition: 0.3s;
      }

      .social-icons a:hover {
        color: var(--accent);
        transform: scale(1.1);
      }

      main {
        flex: 1;
        padding: 2rem;
        max-width: 1000px;
        margin: auto;
      }

      h1 {
        font-family: 'Orbitron', sans-serif;
        color: var(--accent);
        text-align: center;
        margin-bottom: 2rem;
      }

      .category-list {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: center;
      }

      .category-card {
        background: rgba(20, 20, 20, 0.6);
        /* semi-transparent dark */
        backdrop-filter: blur(12px);
        /* blur effect */
        -webkit-backdrop-filter: blur(12px);
        /* Safari support */
        border-left: 4px solid var(--accent);
        padding: 1rem 1.5rem;
        border-radius: 12px;
        width: 250px;
        text-align: center;
        transition: background 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
        box-shadow: 0 8px 30px rgba(0, 208, 255, 0.1), var(--border-glow);
      }

      .category-card:hover {
        background: rgba(40, 60, 70, 0.8);
        box-shadow: 0 0 25px var(--accent), 0 0 15px var(--tag-hover);
        transform: translateY(-3px);
      }


      .category-card a {
        color: var(--accent);
        text-decoration: none;
        font-size: 1.2rem;
        transition: color 0.3s ease, text-shadow 0.3s ease;
      }

      .category-card a:hover {
        color: #00ffcc;
        text-shadow: 0 0 8px #00ffcc;
      }

      .category-card small {
        display: block;
        color: #aaa;
        margin-top: 0.5rem;
      }

      footer {
        text-align: center;
        color: #555;
        font-size: 0.8rem;
        margin-top: 3rem;
      }
    </style>
  </head>
  <body>
    <aside>
      <img src="assets/avatar.jpeg" alt="Profile" />
      <div class="site-title">Kshitij Raut</div>
      <div class="site-subtitle">Cyber Security Analyst</div>
      <nav>
        <a href="index.html">üè† Home</a>
        <a href="categories.html">üìö Categories</a>
        <a href="tags.html">üè∑Ô∏è Tags</a>
        <a href="archives.html">üóÉÔ∏è Archives</a>
        <a href="about.html">‚ÑπÔ∏è About</a>
      </nav>
      <div class="social-icons">
        <a href="https://www.linkedin.com/in/kshitijnraut/" target="_blank" title="LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="mailto:kshitijraut360@gmail.com" title="Gmail">
          <i class="fas fa-envelope"></i>
        </a>
        <a href="https://www.youtube.com/@0x0z0n" target="_blank" title="YouTube">
          <i class="fab fa-youtube"></i>
        </a>
        <a href="https://x.com/0x0z0n" target="_blank" title="X/Twitter">
          <i class="fab fa-x-twitter"></i>
        </a>
      </div>
    </aside>
    <main>
      <h1>Categories</h1>
      <div id="categoryList" class="category-list"></div>
      <footer>
        <p>&copy; 2025 0x0z0n</p>
      </footer>
    </main>
    <script>
      fetch("data/posts.json").then(res => res.json()).then(posts => {
        const categories = {};
        posts.forEach(post => {
          const catField = post.category || "Uncategorized";
          const catList = Array.isArray(catField) ? catField : [catField];
          catList.forEach(cat => {
            categories[cat] = (categories[cat] || 0) + 1;
          });
        });
        const container = document.getElementById("categoryList");
        let entries = Object.entries(categories);
        const pinned = entries.filter(([cat]) => cat === "CheatSheet");
        const others = entries.filter(([cat]) => cat !== "CheatSheet");
        others.sort((a, b) => a[0].localeCompare(b[0]));
        entries = [...pinned, ...others];
        entries.forEach(([cat, count]) => {
          const div = document.createElement("div");
          div.className = "category-card";
          const href = cat === "CheatSheet" ? "https://0x0z0n.github.io/z0n/posts/Cheatsheet.html" : `index.html?category=${encodeURIComponent(cat)}`;
          div.innerHTML = `
            
      <a href="${href}">${cat}</a>
      <small>${count} post${count > 1 ? "s" : ""}</small>
          `;
          container.appendChild(div);
        });
      }).catch(err => {
        console.error("Error loading categories:", err);
        document.getElementById("categoryList").innerHTML = " < p style = 'color:red;' > Failed to load categories. < /p>";
      });
    </script>
  </body>
</html>